import{_ as m,R as h,r as u,o as _,c as p,a as o,w as n,b as e,d as i,i as f,F as k}from"./index-ac0afc63.js";import{S as r}from"./sweetalert2.all-742031dd.js";const{VITE_APP_URL:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"hannahtw",BASE_URL:"/week06/dist/",MODE:"production",DEV:!1,PROD:!0},$={components:{RouterView:h},methods:{logout(){document.cookie=`adminToken =; expired = ${new Date};`,r.fire({icon:"success",title:"登出成功",showConfirmButton:!0,timer:2e3}),this.$router.push("/login")},async checkIsAdmin(){await this.$http.post(`${w}/api/user/check`).then(t=>{t.data.success?r.fire({icon:"success",title:"登入及驗證成功",showConfirmButton:!0,timer:1e3}):(r.fire({icon:"error",title:"登入及驗證失敗",showConfirmButton:!0,timer:1e3}),this.$router.push("/login"))})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)adminToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.checkIsAdmin()}},V=i("h3",null,"這是後台頁面",-1),A=i("hr",null,null,-1);function P(t,a,R,T,x,c){const s=u("router-link"),d=u("RouterView");return _(),p(k,null,[V,o(s,{to:"/"},{default:n(()=>[e("回前台首頁")]),_:1}),e(" | "),o(s,{to:"/admin/products"},{default:n(()=>[e("後台產品列表")]),_:1}),e(" | "),o(s,{to:"/admin/orders"},{default:n(()=>[e("後台訂單列表")]),_:1}),e(" | "),i("a",{href:"#",onClick:a[0]||(a[0]=f((...l)=>c.logout&&c.logout(...l),["prevent"]))},"登出"),A,o(d)],64)}const g=m($,[["render",P]]);export{g as default};
